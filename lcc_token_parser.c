#ifndef LCC_TOKEN_PARSER
#define LCC_TOKEN_PARSER

#include <assert.h>
#include "lcc_token.c"
#include "lcc_status.h" 
#include "lcc_input_gather.c"

const int(*handlers[]) (struct lcc_input_wrapper *w, struct lcc_token *tk) = {
    &lcc_tk_eof__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_newline__parse, // '\n'
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_undefined__parse, // ' '
    &lcc_tk_space__parse, // ' '
    &lcc_tk_undefined__parse, // '!'
    &lcc_tk_str__parse, // '"'
    &lcc_tk_undefined__parse, // '#'
    &lcc_tk_undefined__parse, // '$'
    &lcc_tk_undefined__parse, // '%'
    &lcc_tk_undefined__parse, // '&'
    &lcc_tk_undefined__parse, // 'procurar melhor'
    &lcc_tk_undefined__parse, // '('
    &lcc_tk_undefined__parse, // ')'
    &lcc_tk_undefined__parse, // '*'
    &lcc_tk_undefined__parse, // '+'
    &lcc_tk_undefined__parse, // ',' confirmar
    &lcc_tk_undefined__parse, // '-'
    &lcc_tk_undefined__parse, // '.'
    &lcc_tk_undefined__parse, // '/'
    &lcc_tk_number__parse, // '0'
    &lcc_tk_number__parse, // '1'
    &lcc_tk_number__parse, // '2'
    &lcc_tk_number__parse, // '3'
    &lcc_tk_number__parse, // '4'
    &lcc_tk_number__parse, // '5'
    &lcc_tk_number__parse, // '6'
    &lcc_tk_number__parse, // '7'
    &lcc_tk_number__parse, // '8'
    &lcc_tk_number__parse, // '9'
    &lcc_tk_undefined__parse, // ':'
    &lcc_tk_undefined__parse, // ';'
    &lcc_tk_undefined__parse, // '<'
    &lcc_tk_undefined__parse, // '='
    &lcc_tk_undefined__parse, // '>'
    &lcc_tk_undefined__parse, // '?'
    &lcc_tk_undefined__parse, // '@'
    &lcc_tk_undefined__parse, // 'A'
    &lcc_tk_undefined__parse, // 'B'
    &lcc_tk_undefined__parse, // 'C'
    &lcc_tk_undefined__parse, // 'D'
    &lcc_tk_undefined__parse, // 'E'
    &lcc_tk_undefined__parse, // 'F'
    &lcc_tk_undefined__parse, // 'G'
    &lcc_tk_undefined__parse, // 'H'
    &lcc_tk_undefined__parse, // 'I'
    &lcc_tk_undefined__parse, // 'J'
    &lcc_tk_undefined__parse, // 'K'
    &lcc_tk_undefined__parse, // 'L'
    &lcc_tk_undefined__parse, // 'M'
    &lcc_tk_undefined__parse, // 'N'
    &lcc_tk_undefined__parse, // 'O'
    &lcc_tk_undefined__parse, // 'P'
    &lcc_tk_undefined__parse, // 'Q'
    &lcc_tk_undefined__parse, // 'R'
    &lcc_tk_undefined__parse, // 'S'
    &lcc_tk_undefined__parse, // 'T'
    &lcc_tk_undefined__parse, // 'U'
    &lcc_tk_undefined__parse, // 'V'
    &lcc_tk_undefined__parse, // 'W'
    &lcc_tk_undefined__parse, // 'X'
    &lcc_tk_undefined__parse, // 'Y'
    &lcc_tk_undefined__parse, // 'Z'
    &lcc_tk_undefined__parse, // '['
    &lcc_tk_undefined__parse, // '\'
    &lcc_tk_undefined__parse, // ']'
    &lcc_tk_undefined__parse, // '^'
    &lcc_tk_undefined__parse, // '_'
    &lcc_tk_undefined__parse, // '`'
    &lcc_tk_undefined__parse, // 'a'
    &lcc_tk_undefined__parse, // 'b'
    &lcc_tk_undefined__parse, // 'c'
    &lcc_tk_undefined__parse, // 'd'
    &lcc_tk_undefined__parse, // 'e'
    &lcc_tk_undefined__parse, // 'f'
    &lcc_tk_undefined__parse, // 'g'
    &lcc_tk_undefined__parse, // 'h'
    &lcc_tk_undefined__parse, // 'i'
    &lcc_tk_undefined__parse, // 'j'
    &lcc_tk_undefined__parse, // 'k'
    &lcc_tk_undefined__parse, // 'l'
    &lcc_tk_undefined__parse, // 'm'
    &lcc_tk_undefined__parse, // 'n'
    &lcc_tk_undefined__parse, // 'o'
    &lcc_tk_undefined__parse, // 'p'
    &lcc_tk_undefined__parse, // 'q'
    &lcc_tk_undefined__parse, // 'r'
    &lcc_tk_undefined__parse, // 's'
    &lcc_tk_undefined__parse, // 't'
    &lcc_tk_undefined__parse, // 'u'
    &lcc_tk_undefined__parse, // 'v'
    &lcc_tk_undefined__parse, // 'w'
    &lcc_tk_undefined__parse, // 'x'
    &lcc_tk_undefined__parse, // 'y'
    &lcc_tk_undefined__parse, // 'z'
    &lcc_tk_undefined__parse, // '{'
    &lcc_tk_undefined__parse, // '|'
    &lcc_tk_undefined__parse, // '}'
    &lcc_tk_undefined__parse, // '~'
    &lcc_tk_undefined__parse // 'DEL'
};

int lcc_parse_tokens(struct lcc_input_wrapper *input, struct lcc_token *tk) {
    char c = 0;
    if (lcc_input__getc(input, &c) == ERROR)
        return ERROR;
    /* printf("PARSED: '%c'\n", c); */
    lcc_input__ungetc(input, c);
    /* if (c > 127 || c < 0) */
    /*     return lcc_tk_undefined__parse(input, tk); */
    return handlers[c + 1](input, tk);
}
#endif
